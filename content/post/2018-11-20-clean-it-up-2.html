---
title: 'Clean It Up 2: Exploring Rows'
author: R-Ladies Sydney
date: '2018-11-20'
slug: clean-it-up-2
categories: []
tags: []
---



<p>Now that we have cleaned up our column names to make them easier to work with, we can start to answer some questions about what’s in those rows! In this lesson, we’re going to <code>filter</code>, <code>arrange</code>, <code>group_by</code> and <code>summarise</code> the beaches data to answer the following questions:</p>
<ul>
<li><strong>Question A:</strong> Which beach has the highest recorded bacteria levels?</li>
<li><strong>Question B:</strong> Does Coogee or Bondi have more extreme bacteria levels? Which beach has the worst bacteria levels on average?</li>
<li><strong>Question C:</strong> Which council does the worst job at keeping their beaches clean?</li>
</ul>
<p>##Lesson Outcomes
By the end of the lesson, you should:</p>
<div class="line-block">    2.1 Know how to use <code>arrange</code> to sort a dataframe and <code>filter</code> to select parts of the dataframe<br />
    2.2 Know how to use <code>group_by</code> and <code>summarise</code> to get summary statistics<br />
    2.2 Be able to pipe these functions together to answer questions about your data</div>
<p>##Question A: Which beach has the highest recorded bacteria levels?</p>
<p>When we first looked at a <code>summary</code> of the sydneybeaches data, we could see that the highest value of beach bacteria in the dataset was 4900. I wonder which beach that came from? Here, we use <code>arrange</code> to sort the beach bugs data in descending order. We can also use the pipe to combine <code>filter</code> and <code>arrange</code> to look at extreme values within a particular site.</p>
<p><img src="/post/2018-11-19-cleanitup_files/clean2-summary.png" /></p>
<p>In this screencast, we’ll review:</p>
<ul>
<li>How to use the <code>arrange</code> function to sort your data</li>
<li>How to use <code>filter</code> to look at just a subset of your data</li>
<li>How to use the pipe to combine <code>filter</code> and <code>arrange</code> functions</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/nJIB643YETo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Watch the video and then carry out the following steps:</p>
<ol style="list-style-type: decimal">
<li>Sort the sydney beaches data by beachbugs in descending order</li>
<li>Pick your favourite beach and determine whether its most extreme beachbug values are higher or lower than the worst day at Coogee.</li>
</ol>
<p>##Question B: Does Coogee or Bondi have more extreme bacteria levels? Which beach has the worst bacteria levels on average?</p>
<p>“Where should I swim?”&quot; you might ask… Well, to answer that question we need to compare bacteria levels across sites.</p>
<p>To do this, ou can put more than one argument into a filter function. For example, you can filter for either Coogee or Bondi.</p>
<p>In this screencast, we’ll review:</p>
<ul>
<li>How to use <code>filter</code> by more than one site</li>
<li>How to create grouped summary stats using <code>group_by</code> and <code>summarise</code></li>
<li>How to use the pipe to combine <code>filter</code>, <code>group_by</code>, and <code>summarise</code> functions</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/m0735DnMry8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Watch the video and then carry out the following steps:</p>
<ol style="list-style-type: decimal">
<li>Pick two beaches to compare, use filter and the %in% operator</li>
<li>Use group_by and summarise to work out which beach has the worst bacteria levels on average.</li>
</ol>
<p>##Question C: Which council does the worst job at keeping their beaches clean?</p>
<p>Lets practice our new <code>dplyr</code> skills, using <code>group_by</code> council (instead of site) and <code>summarise</code> to see which council does the best job at keeping its beaches clean.</p>
<p>In this screencast, we’ll review:</p>
<ul>
<li>How to <code>group_by</code> more multiple variables to gain more insight into the summary statistics from <code>summarise</code></li>
<li>How to assign the output of your <code>summarise</code> to a new object in your environment</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/w6lyT6YyycE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>##Now have a go with <strong>your own data!</strong></p>
<ul>
<li>Choose a continuous variable and sort your data in descending order. Are the extreme values surprising?</li>
<li>Pick a categorical variable, filter for one level of that variable and then sort in descending order</li>
<li>Use group_by and summarise to create summary statistics that answer a question you have about your data</li>
</ul>
<p><strong>Sydney-based R-Ladies</strong> - share your successes and any challenges you’ve faced in the #ryouwithme_2_cleaning Slack channel!</p>
<p>Next up - Clean It Up <a href="/post/2018/11/20/clean-it-up-3/">Lesson 3: Making New Variables</a></p>
<div id="p.s.-interested-in-more-dplyr-tutorials" class="section level3">
<h3>P.S. Interested in more <code>dplyr</code> tutorials?</h3>
<p>Check out this blog series by R-Lady Suzan Baert!</p>
<ul>
<li><a href="https://suzan.rbind.io/2018/01/dplyr-tutorial-1/">Selecting</a></li>
<li><a href="https://suzan.rbind.io/2018/02/dplyr-tutorial-3/#filtering-based-on-a-exact-character-variable-matches">Filtering</a></li>
<li><a href="https://suzan.rbind.io/2018/04/dplyr-tutorial-4/">Summarising</a></li>
</ul>
</div>
